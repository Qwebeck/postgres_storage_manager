<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
    <script src="{{ url_for('static',filename='scripts/index.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/storage_logic.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/gui_updaters.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/element_creators.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/data_nodes_updaters.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/utils.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/validators.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/orders_logic.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/on_work_with.js') }}"></script>
    <script src="{{ url_for('static',filename='scripts/orders_utils.js') }}"></script>
    <title>B2B db admin</title>
</head>

<body onload="init()">
    <datalist id="available_types">
                    
    </datalist>


    <div class="menu">
        <button class="menu-item" onclick="on_work_with_storage()">
            Работа со складом
        </button>
        <button class="menu-item" onclick="on_work_with_orders()">
            Работа с заказами
        </button>
    </div>
    <div class="container">
        <div id='query_section' class="query_section">
            <form id='order_modification_section'>
                <h1>Изменение заказа</h1>
                <div id='specific_order_modification'>

                </div>
                <input type="submit">
            </form>
            <div id="order_statistics">

            </div>

            <div id='waiting' class="waiting"></div>

            <div id="work_with_storage">
                <h1 name='storage_header'></h1>

                <!-- <form id="add_business" class="action" onsubmit="addBusiness(event)">
                    <h1>Добавить организацию</h1>
                    <input type="text" name='name' placeholder="Название" autocomplete="off">
                    <input type="text" name='location' placeholder="Местоположение">
                    <div>
                        <input type="checkbox" name='is_supplier' value="true">
                        <label for="is_supplier">Поставщик</label>
                    </div>
                    <div>
                        <input type="checkbox" name='is_client' value="true">
                        <label for="is_client">Клиент</label>
                    </div>
                    <input class="action-button" type="submit">
                </form> -->
                <div id="add_on_storage">
                    <h1>Добавить товары на склад </h1>
                    <form id="storage_name" onsubmit="addStorage(event)">
                        <select name='active_storage' id='active_storage' onchange='activeStorageChanged(event)'>
                            <option value="new">Новый бизнес</option>
                        </select>
                        <div id="new_storage_name">
                            <input name="new_business_name" type="text" id="new_storage" placeholder="Название нового бизнеса" autocomplete="off">
                            <input type="submit" value="Добавить">

                        </div>
                    </form>
                    <form id="add_on_storage_form" onsubmit="addProduct(event)">

                        <input type="text" name="producent" placeholder="Производитель" autocomplete="off">
                        <input type="text" name="serial_number" placeholder="Серийный номер" autocomplete="off">
                        <input type="text" name="model" placeholder="Модель" autocomplete="off">
                        <select id='default_select_for_type' name="type_name" onchange="isUserInputForType(event)">
                            <option value="default" selected="selected">Тип продукта</option>
                            <option value="new">Новый тип</option>
                        </select>
                        <input type="text" placeholder="Тип нового товара" id="new_type" name="type" autocomplete="off">
                        <select name="product_condition">
                            <option value='true'>Исправное</option>
                            <option value='false'>Неисправное</option>
                        </select>
                        <textarea name="additional_info" id="" cols="30" rows="10"
                            placeholder="Дополнительная информация"></textarea>
                        <input class='submit action-button' type="submit" value="Добавить">
                    </form>
                </div>

            </div>

            <form class="form-container" class="action" id='orders_add' onsubmit="addOrder(event)">
                <h1 name='storage_header'></h1>
                <h1 id='action_name_1'>Добавить новый заказ</h1>
                <div class="product_order">
                    <div>
                        <h4>Заказчик</h4>
                        <select name="clients_ids" id="clients_ids">
                            <option selected="selected" value="default">Заказчик</option>
                        </select>
                    </div>
                    <div>
                        <h4>Поставщик</h4>
                        <select name="suppliers_ids" id="suppliers_ids">
                            <option selected="selected" value="default">Поставщик</option>
                        </select>
                    </div>
                </div>
                <div class="product_order">
                    <h4>Дата заказа</h4>
                    <input id='order_date' type="date">
                </div>
                <h4>Товары</h4>
                <div id='orders_on_specific_products'>           
                    <div name="product_order" class="product_order">
                        <input type="text" name="product_type" list="available_types" placeholder="Tип" autocomplete="off">
                        <input type="text" name="number" placeholder="Количество" autocomplete="off"
                            onchange="addProductField(containers_and_elements.order_creation_specific_order_section, null, 1)">
                    </div>

                    <div name="product_order" class="product_order">
                        <input type="text" name="product_type" list="available_types" placeholder="Tип" autocomplete="off">
                        <input type="text" name="number" placeholder="Количество" autocomplete="off"
                            onchange="addProductField(containers_and_elements.order_creation_specific_order_section, null, 1)">
                    </div>
                </div>


                <input class="action-button" type="submit">
            </form>
        </div>
        <div class="hidden" name="toolbar" id="orders_toolbar">
            <form id="order_history" onsubmit="showForPeriod(event)">
                <label for="from_date">Заказы от</label>
                <input type="date" id="from_date">
                <label for="to_date">до</label>
                <input type="date" id="to_date">
                <input class="tlb-btn" type="submit" value="Найти">
            </form>
            <span>История</span>
            <label class="switch">
                <input type="checkbox" id='is_history' checked='' onchange="showHistory(event)">
                <span class="slider round"></span>
            </label>
        </div>
        <div class="hidden" name="toolbar" id="order_edit_toolbar">
            <button id='edit_order_btn' class="tlb-btn order-button" onclick="editOrder(event)">Изменить</button>
            <button id='complete_order_btn' class="tlb-btn order-button" >Выполнить</button>
            <button id='delete_order_btn' class="tlb-btn order-button" >Удалить</button>
        </div>
        <div class="output_section" id="output_section">
        </div>
    </div>
</body>

</html>